<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Et værvarsel dashboard som viser værforhold for byer over hele verden">
    <title>Værdashboard - Sanntids værforhold</title>
    <link rel="stylesheet" href="/static/styles.css?v=2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
</head>
<body>
    <div class="app-wrapper">
        <!-- Main Container -->
        <div class="container">
            <div class="header">
                <h1>Værdashbord</h1>
                <a href="https://magnuslow.com/projects.html" class="back-to-site-btn" rel="noopener noreferrer">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                        <path d="m12 19-7-7 7-7"></path>
                        <path d="m19 12H5"></path>
                    </svg>
                    <span>Tilbake til nettsiden</span>
                </a>
            </div>

            <!-- Input Fields and Buttons -->
            <div class="input-group">
                <label for="cityInput" class="visually-hidden">Skriv inn bynavn</label>
                <div class="input-with-location">
                    <input type="text" id="cityInput" placeholder="Skriv inn bynavn eller bruk lokasjonsknappen" aria-autocomplete="list" aria-controls="citySuggestions">
                    <button id="clearInputBtn" type="button" class="clear-input-btn" title="Tøm søkefelt" aria-label="Tøm søkefelt">
                        ×
                    </button>
                    <div class="button-group">
                        <div class="location-btn-container">
                            <button id="locationBtn" type="button" class="location-btn" title="Bruk min lokasjon" aria-label="Bruk min lokasjon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                    <circle cx="12" cy="10" r="3"></circle>
                                </svg>
                            </button>
                        </div>
                        <div class="favorites-dropdown-container">
                            <button id="favoritesBtn" type="button" class="favorites-btn" title="Vis favoritter" aria-label="Vis favoritter">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                                </svg>
                            </button>
                            <div class="favorites-dropdown" id="favoritesDropdown">
                                <div class="favorites-header">
                                    <span>Favoritter</span>
                                </div>
                                <div class="favorites-list" id="favoritesList">
                                    <div class="no-favorites">
                                        Ingen favoritter lagt til ennå
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <ul id="citySuggestions" class="suggestions-list" role="listbox"></ul>
            </div>

            <!-- Weather Data Section -->
            <div id="weatherData"></div>

            <!-- Loading Spinner -->
            <div id="loadingSpinner" class="spinner-overlay" style="display:none;">
                <div class="spinner"></div>
            </div>
        </div>
    </div>

    <!-- Initial Loading Screen (Full Screen) -->
    <div id="initialLoader" class="initial-loader">
        <div class="initial-loader-content">
            <div class="initial-spinner"></div>
            <h2>Laster værdata...</h2>
            <p>Vent litt mens vi henter det siste været for deg</p>
        </div>
    </div>

    <!-- JavaScript Modules - Load in order -->
    <script src="/static/js/ui-utils.js?v=3"></script>
    <script src="/static/js/weather-translations.js?v=1"></script>
    <script src="/static/js/weather-api.js?v=3"></script>
    <script src="/static/js/weather-display.js?v=3"></script>
    <script src="/static/js/location-service.js?v=3"></script>
    <script src="/static/js/favorites.js?v=3"></script>
    <script src="/static/js/city-search.js?v=3"></script>
    <script src="/static/js/main.js?v=3"></script>
</body>
</html>